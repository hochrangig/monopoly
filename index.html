<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div class="d-flex">
		<div class="player-info-1">
			<h2>Игрок 1</h2>
			<img src="dice.png" class="dice1 w-50">
			<h5>Деньги: <span class="player1_money">3000</span>$</h5>
			<div class="player1_companies">
				<p class="companies">Купленные компании:</p>

			</div>
		</div>
		<div class="content">
			<div class="banner">
				
			</div>
			<img src="player1.png" class="player1" style="top:145px; left:20px;">
			<img src="player2.png" class="player2" style="top:145px; left:70px;">
			<!--первая линия-->
			<div class="boxs top-bottom-side" style="left: 20px; top:145px">
				<h4>START</h4>
			</div>
			<div class="boxs top-bottom-side" style="left: 130px; top:145px">
				<img src="roztor.png" class="img" alt="">
			</div>
			<div class="boxs top-bottom-side" style="left: 240px; top:145px">
				<img src="aigul.png" class="img" alt="">
			</div>
			<div class="boxs top-bottom-side"  style="left: 350px; top:145px">3</div>

			<div class="boxs top-bottom-side" style="left: 460px; top:145px">
				<img src="hozmarket.png" class="img" alt="">
			</div>
			<div class="boxs top-bottom-side" style="left: 570px; top:145px">
				<img src="bershka.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 680px;   top:145px">6</div>

			<div class="boxs top-bottom-side" style="left: 790px; top:145px">
				<img src="zara.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 900px; top:145px">
				<img src="hm.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 1010px;  top:145px" >9</div>

			<!--вторая линия-->
			<div class="boxs top-bottom-side" style="left: 1120px; top:145px">10
				<p>иди назад на -5 клеток</p>
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 300px">
				<img src="burgerking.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 410px">
				<img src="kfc.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 520px">13</div>

			<div class="boxs left-right-side" style="left: 1120px;top: 630px">
				<img src="mcdonalds.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 740px">
				<img src="amd.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 850px">16</div>

			<div class="boxs left-right-side" style="left: 1120px; top: 960px">17</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 1070px">
				<img src="intel.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 1120px; top: 1180px">
				<img src="nvidia.svg"  alt="" class="img" >
			</div>

			<!--третья линия-->
			<div class="boxs top-bottom-side" style="left: 1120px; top: 1330px; background: red">20</div>

			<div class="boxs top-bottom-side" style="left: 1010px; top: 1330px">21</div>
			<div class="boxs top-bottom-side" style="left: 900px; top: 1330px">
				<img src="twitter.png"  alt="" class="img" >
			</div>
			<div class="boxs top-bottom-side" style="left: 790px; top: 1330px">23</div>

			<div class="boxs top-bottom-side" style="left: 680px; top: 1330px">
				<img src="microsoft.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 570px; top: 1330px">25</div>
			<div class="boxs top-bottom-side" style="left: 460px; top: 1330px">
				<img src="epicgames.png" alt="" class="img">
			</div>

			<div class="boxs top-bottom-side" style="left: 350px; top: 1330px">
				<img src="ubisoft.png" alt="" class="img">
			</div>
			<div class="boxs top-bottom-side" style="left: 240px; top: 1330px">28</div>
			<div class="boxs top-bottom-side" style="left: 130px; top: 1330px">
				<img src="blizzard.svg" alt="" class="img">
			</div>

			<!--четвертая линия-->
			<div class="boxs top-bottom-side" style="left: 20px; top: 1330px; background: red">30</div>

			<div class="boxs left-right-side" style="left: 20px; top: 1180px">
				<img src="lv.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 1070px">
				<img src="chanel.png" alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 960px">33</div>

			<div class="boxs left-right-side" style="left: 20px; top: 850px">
				<img src="gucci.png " alt="" class="img">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 740px">35</div>
			<div class="boxs left-right-side" style="left: 20px; top: 630px">
				<img src="amazon.png" alt="" class="img">
			</div>

			<div class="boxs left-right-side" style="left: 20px; top: 520px">
				<img class="img" src="apple.png" alt="">
			</div>
			<div class="boxs left-right-side" style="left: 20px; top: 410px"></div>
			<div class="boxs left-right-side" style="left: 20px; top:300px">
				<img class="img" src="spacex.png" alt="">
			</div>
		</div>
		<div class="player-info-2">
			<h2>Игрок 2</h2>
			<img src="dice.png" class="dice2 w-50">
			<h5>Деньги: <span class="player2_money">3000</span>$</h5>
			<div class="player2_companies">
				<p class="companies">Купленные компании: </p>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		let dice1 = document.querySelector(".dice1");
		let dice2 = document.querySelector(".dice2");
		let boxs = document.querySelectorAll(".boxs");
		let player1 = document.querySelector(".player1");
		let player2 = document.querySelector(".player2");

		let player1_money = document.querySelector(".player1_money");
		let player2_money = document.querySelector(".player2_money");

		let player1_companies = document.querySelector(".player1_companies")
		let player2_companies = document.querySelector(".player2_companies")

	boxs[1].company = {
		price: 50,
		rent: 10,
		owner: null,
		name: "Розтор"
	};

	boxs[2].company = {
		price: 80,
		rent: 15,
		owner: null,
		name: "Айгуль"
	};

	boxs[4].company = {
		price: 110,
		rent: 20,
		owner: null,
		name: "Хозмаркет"
	};

	boxs[5].company = {
		price: 140,
		rent:30,
		owner: null,
		name: "bershka"
	};

	boxs[7].company = {
		price: 170,
		rent:40,
		owner: null,
		name: "zara"
	}

	boxs[8].company = {
		price: 200,
		rent:50,
		owner: null,
		name: "h&m"
	}

	boxs[11].company = {
		price: 230,
		rent:60,
		owner: null,
		name: "burger king"
	};

	boxs[12].company = {
		price: 250,
		rent:65,
		owner: null,
		name: "kfc"
	}
	boxs[14].company = {
		price: 280,
		rent:70,
		owner: null,
		name: "mcdonalds"
	}

	boxs[15].company = {
		price: 300,
		rent:80,
		owner: null,
		name: "amd"
	}
	boxs[18].company = {
		price: 350,
		rent:90,
		owner: null,
		name: "intel"
	}
	boxs[19].company = {
		price: 400,
		rent:100,
		owner: null,
		name: "nvidia"
	}
	boxs[22].company = {
		price: 450,
		rent:110,
		owner: null,
		name: "twitter"
	}
	boxs[24].company = {
		price: 480,
		rent:120,
		owner: null,
		name: "microsoft"
	}
	boxs[26].company = {
		price: 500,
		rent:130,
		owner: null,
		name: "epicgames"
	}
	boxs[27].company = {
		price: 550,
		rent:140,
		owner: null,
		name: "ubisoft"
	}
	boxs[29].company = {
		price: 600,
		rent:150,
		owner: null,
		name: "blizzard"
	}
	boxs[31].company = {
		price: 650,
		rent:160,
		owner: null,
		name: "louis vuitton"
	}
	boxs[32].company = {
		price: 700,
		rent:165,
		owner: null,
		name: "chanel"
	}
	boxs[34].company = {
		price: 800,
		rent:170,
		owner: null,
		name: "gucci"
	}
	boxs[36].company = {
		price: 830,
		rent:180,
		owner: null,
		name: "amazon"
	}
	boxs[37].company = {
		price: 870,
		rent:190,
		owner: null,
		name: "apple"
	}
	boxs[39].company = {
		price: 900,
		rent: 200,
		owner: null,
		name: "SpaceX"
	}



		let numbers = [1,2,3,4,5,6];
		let step = 0;
		let step2 = 0;
		let money1 = 3000;
		let money2 = 3000;
		
		let queue = "player1"

		function getRandom(arg){
			let x = Math.random() * arg;
			let y = Math.round(x);
			return y;
		}


		dice1.onclick = function(){
			if(queue == "player1"){

				queue = "player2";
				let index = getRandom(5);
				let rand = numbers[index];	

				step = step  + rand ;
				if(step >= 40){
					step  = step - 40;
				}

				player1.style.top = boxs[step].style.top;
				player1.style.left = boxs[step].style.left;

				function check(){
					if(boxs[step].company.owner == null){ //покупка компаний
						if(money1 >= boxs[step].company.price){
							let result = confirm("Покупаете ли вы " + boxs[step].company.name + "? Цена: " + boxs[step].company.price + "$. Аренда: " + boxs[step].company.rent + "$."); 

							if(result == true){
								boxs[step].company.owner = "player1";
								money1 = money1 - boxs[step].company.price;
								player1_money.innerHTML = money1;
								boxs[step].style.background = "lightblue";

								let p = document.createElement("p");
								player1_companies.appendChild(p);
								p.innerHTML = boxs[step].company.name;

							}else{
								alert("Игрок 1 отказался от покупки компании: " + boxs[step].company.name); 
							}
						}else{
							alert("У вас не хватает средств на покупку " + boxs[step].company.name);
						}

					}else if(boxs[step].company.owner == "player2"){ //оплата аренды
						alert("Компания "+ boxs[step].company.name + " принадлежит 2 игроку. Платите аренду "+boxs[step].company.rent );
						
						if(money1 < boxs[step].company.rent){
							alert("У вас не достает денег на оплату аренды. Вы проиграли");
						}else {
							money1 = money1 - boxs[step].company.rent;
							money2 = money2 + boxs[step].company.rent;
							player1_money.innerHTML = money1;
							player2_money.innerHTML = money2;
						}
					}else if(boxs[step].company.owner == "player1"){ //попал на свою компанию
						alert("Вы попали на свою компанию");
					}
				}

				setTimeout(check, 1500)

				
				
				/*
					если пустая owner	
						спросить будет ли он покупать +
						да
							присваивается owner player1 + 
							из денег player1 вычитается цена компании
							див компании окрашивается в голубой цвет
						нет
							ничего не происходит
					иначе если owner player2
						аренда
						если нет денег
							проигрыш
							продать компанию банку и получить деньги по формуле цена компании/2
							отдать какую-то компанию игроку 2
						
					иначе если owner 1
						ничего не происходит

				*/



				console.log("Выпало: "+ rand);
				console.log("Шаги: " + step)
			}


		}

		dice2.onclick = function(){
			if(queue == "player2"){

				queue = "player1"
				let index = getRandom(5);
				let rand = numbers[index]
				
			
				step2 = step2 + rand;
				player2.style.top = boxs[step2].style.top;
				player2.style.left = boxs[step2].style.left;

				function check(){
					if(boxs[step2].company.owner == null){ //покупка компаний
						if(money2 >= boxs[step2].company.price){
							let result = confirm("Покупаете ли вы " + boxs[step2].company.name + "? Цена: " + boxs[step2].company.price + "$. Аренда: " + boxs[step2].company.rent + "$."); 

							if(result == true){
								boxs[step2].company.owner = "player2";
								money2 = money2 - boxs[step2].company.price;
								player2_money.innerHTML = money2;
								boxs[step2].style.background = "orange";

								let p = document.createElement("p");
								player2_companies.appendChild(p);
								p.innerHTML = boxs[step2].company.name;

							}else{
								alert("Игрок 2 отказался от покупки компании: " + boxs[step2].company.name);
							}
						}else{
							alert("У вас не хватает средств на покупку " + boxs[step2].company.name);
						}

					}else if(boxs[step2].company.owner == "player1"){ // оплата аренды
						alert("Компания "+ boxs[step2].company.name+" принадлежит 1 игроку. Платите аренду "+boxs[step2].company.rent );
						
						if(money2 < boxs[step2].company.rent){
							alert("У вас не достает денег на оплату аренды. Вы проиграли");
						}else {
							money2 = money2 - boxs[step2].company.rent;
							money1 = money1 + boxs[step2].company.rent;
							player1_money.innerHTML = money1;
							player2_money.innerHTML = money2;
						}

					}else if(boxs[step2].company.owner == "player2"){ //попал на свою компанию
						alert("Вы попали на свою компанию");
					}
				}

				setTimeout(check, 1500)
				
				console.log("Выпало: "+ rand);
				console.log("Шаги: " + step2)
			}
		
		}
	</script>
</body>
</html>